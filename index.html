<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AI Agents for Real Estate</title>

  <!-- Favicons -->
  <link rel="icon" type="image/png" href="favicon.png">
  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <style>
    @import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Inter:wght@400;500;600;700&display=swap');

    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      font-family: 'Libre Baskerville', serif;
      color: #1F2937;
      height: 100vh;
      width: 100vw;
      display: flex;
    }

    .page-wrapper {
      display: flex;
      width: 100vw;
      height: 100vh;
    }

    /* LEFT PANEL ------------------------------------------ */
    .left-panel {
      flex: 1;
      background: #fdfaf6;
      padding: 60px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .logo-container { margin-bottom: 30px; }

    .left-card {
      background: #ffffff;
      border-radius: 16px;
      padding: 40px;
      max-width: 500px;
      width: 100%;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }

    .left-card h1 { font-size: 2rem; font-weight: 700; margin-bottom: 20px; }
    .left-card p { font-size: 1rem; color: #4B5563; margin-bottom: 20px; }
    .left-card label { font-size: 0.95rem; font-weight: 600; }

    .plan-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 10px;
      border-radius: 999px;
      background: #eef2ff;
      color: #1d4ed8;
      font-size: 0.8rem;
      margin-bottom: 16px;
    }

    .left-card input,
    .left-card textarea {
      width: 100%; padding: 12px; margin-top: 8px;
      border: 1px solid #D1D5DB; border-radius: 8px; font-family: inherit;
    }

    .left-card textarea { height: 100px; }

    .left-card .btn {
      margin-top: 30px; width: 100%;
      padding: 12px; background: #111827; color: #fff;
      border-radius: 8px; cursor: pointer;
      border: none;
    }

    .msg {
      margin-top: 16px;
      padding: 10px 12px;
      border-radius: 8px;
      font-size: 0.9rem;
    }
    .msg.success { background:#ecfdf3; border:1px solid #4ade80; color:#14532d; }
    .msg.error { background:#fef2f2; border:1px solid #fecaca; color:#b91c1c; }

    /* RIGHT PANEL ------------------------------------------ */
    .right-panel {
      flex: 1;
      background: #f4f1eb;
      padding: 60px;
      font-family: 'Inter', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      position: relative;
    }

    /* Top row: only dark toggle now */
    .top-row {
      max-width: 900px;
      width: 100%;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      margin-bottom: 40px;
      margin-top: -10px;
    }

    .theme-toggle {
      padding: 8px 16px;
      border-radius: 999px;
      background: #fff;
      border: 1px solid #D1D5DB;
      cursor: pointer;
      font-size: 0.85rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    .theme-toggle:hover { background:#f9fafb; }

    /* CHAT -------------------------------------------------- */
    .chat {
      background: #fff; padding: 30px;
      border-radius: 16px; width: 100%;
      border: 1px solid #E5E7EB;
      margin-bottom: 40px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.05);
    }

    .assistant-msg {
      background: #f9fafb;
      padding: 14px 18px;
      border-radius: 12px;
      border: 1px solid #E5E7EB;
      margin-bottom: 15px;
      opacity: 0;
      animation: fadeIn .6s forwards;
    }

    .delay-1 { animation-delay: .6s; }
    .delay-2 { animation-delay: 1.2s; }
    .delay-3 { animation-delay: 1.8s; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(6px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* PRICING SECTION --------------------------------------- */
    .pricing-section {
      max-width: 900px;
      width: 100%;
    }

    .pricing-header h2 { font-size: 1.5rem; margin-bottom: 6px; }
    .pricing-subtitle { font-size: .9rem; color: #6b7280; margin-bottom: 20px; }

    .pricing-grid {
      display: flex; gap: 20px; flex-wrap: wrap;
    }

    .pricing-card {
      background: #fff;
      border-radius: 18px;
      flex: 1;
      padding: 24px;
      min-width: 260px;
      border: 1px solid #E5E7EB;
      transition: .2s;
      box-shadow: 0 8px 24px rgba(0,0,0,0.08);
    }

    .pricing-card:hover {
      transform: translateY(-8px);
      box-shadow: 0 16px 40px rgba(0,0,0,0.15);
    }

    .pricing-card.featured {
      border-color: #38bdf8;
      box-shadow: 0 20px 45px rgba(56,189,248,0.25);
    }

    .pricing-plan-name {
      text-transform: uppercase;
      font-size: .75rem;
      color: #6b7280;
      letter-spacing: .1em;
      margin-bottom: 8px;
      font-weight: 600;
    }

    .pricing-title { font-size: 1.05rem; font-weight: 600; margin-bottom: 6px; }
    .pricing-price { font-size: 1.2rem; font-weight: 600; margin-bottom: 12px; }

    .pricing-price span {
      font-size: .9rem; color: #6b7280; margin-left: 4px;
    }

    .pricing-description {
      font-size: .9rem; color: #6b7280; margin-bottom: 18px;
      min-height: 40px;
    }

    .pricing-btn {
      padding: 10px 14px;
      border-radius: 999px;
      font-size: .92rem;
      cursor: pointer;
      width: 100%;
      margin-bottom: 20px;
      display: block;
      text-align: center;
      text-decoration: none;
    }

    .outline { background: transparent; border: 1px solid #d1d5db; color: #111827; }
    .outline:hover { background: #f3f4f6; }

    .primary { background: #111827; color: #fff; border: none; }
    .primary:hover { background: #000; }

    .pricing-list {
      list-style: none; font-size: .85rem; color: #4b5563;
    }

    .pricing-list li { display: flex; gap: 6px; margin-bottom: 6px; }
    .pricing-check { color: #22c55e; }

    /* FLOATING HELP WIDGET --------------------------------- */
    .help-launcher {
      position: fixed;
      bottom: 24px;
      right: 24px;
      z-index: 50;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 8px 14px;
      border-radius: 999px;
      background: #111827;
      color: #f9fafb;
      font-family: 'Inter', sans-serif;
      font-size: 0.9rem;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
    }

    .help-launcher-icon {
      width: 20px;
      height: 20px;
      border-radius: 999px;
      border: 1px solid #4b5563;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
    }

    .help-launcher-arrow {
      font-size: 1rem;
      opacity: 0.7;
    }

    .help-panel {
      position: fixed;
      bottom: 72px;
      right: 24px;
      z-index: 40;
      width: 220px;
      padding: 16px;
      border-radius: 16px;
      background: #111827;
      color: #f9fafb;
      box-shadow: 0 16px 45px rgba(0,0,0,0.5);
      font-family: 'Inter', sans-serif;
      font-size: 0.9rem;
      display: none;
    }

    .help-panel-title {
      font-size: 0.9rem;
      margin-bottom: 8px;
      color: #e5e7eb;
    }

    .help-panel p {
      font-size: 0.85rem;
      color: #9ca3af;
      margin-bottom: 12px;
    }

    .help-panel-button {
      display: block;
      width: 100%;
      text-align: center;
      padding: 8px 10px;
      border-radius: 999px;
      background: #f9fafb;
      color: #020617;
      text-decoration: none;
      font-size: 0.9rem;
      font-weight: 500;
    }

    .help-panel-button:hover {
      background: #e5e7eb;
    }

    /* DARK MODE --------------------------------------------- */
    body.dark-mode { background: #020617; color: #e5e7eb; }
    body.dark-mode .left-panel { background: #020617; }
    body.dark-mode .left-card {
      background: #020617; border: 1px solid #1f2937; color: #e5e7eb;
    }
    body.dark-mode .left-card input,
    body.dark-mode .left-card textarea {
      background: #020617; border-color: #374151; color: #e5e7eb;
    }
    body.dark-mode .right-panel { background: #020617; }
    body.dark-mode .chat {
      background: #020617; border-color: #1f2937;
    }
    body.dark-mode .assistant-msg {
      background: #020617; border-color: #1f2937; color: #e5e7eb;
    }
    body.dark-mode .pricing-card {
      background: #020617; border-color: #1f2937; color: #e5e7eb;
    }
    body.dark-mode .pricing-description,
    body.dark-mode .pricing-list,
    body.dark-mode .pricing-price span { color: #9ca3af; }
    body.dark-mode .theme-toggle {
      background: #020617; color: #e5e7eb; border-color: #4b5563;
      box-shadow: 0 4px 16px rgba(0,0,0,0.7);
    }

    body.dark-mode .help-launcher {
      background:#020617;
      box-shadow:0 10px 30px rgba(0,0,0,0.7);
    }
    body.dark-mode .help-panel {
      background:#020617;
      box-shadow:0 16px 45px rgba(0,0,0,0.9);
    }
  </style>

  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
</head>

<body>

<div class="page-wrapper">

  <!-- LEFT PANEL -->
  <div class="left-panel">
    <div class="logo-container">
      <svg width="180" height="180" viewBox="0 0 375 375" fill="none">
        <path d="M279.169 62.5H95.8313L43.1625 187.5L95.8313 312.5H279.169L331.838 187.5L279.169 62.5Z" stroke="#1F2937" stroke-width="4"/>
        <text x="187.5" y="195.5" font-size="36" font-family="Libre Baskerville" font-weight="700" text-anchor="middle" fill="#1F2937">MAXXIA</text>
      </svg>
    </div>

    <div class="left-card">
      <h1>Build Your Custom AI Agent</h1>
      <p>We help real estate teams automate lead qualification, follow-up, and booking â€” 24/7.</p>

      <!-- Selected plan chip (hidden until a plan is set) -->
      <div id="plan-chip" class="plan-chip" style="display:none;">
        <span>Selected plan:</span>
        <strong id="plan-chip-label"></strong>
      </div>

      <form id="consult-form">
        <label>Your Name</label>
        <input type="text" id="name" required placeholder="John Smith">

        <label>Email</label>
        <input type="email" id="email" required placeholder="you@email.com">

        <label>What tasks should the AI handle?</label>
        <textarea id="tasks" required placeholder="Lead qualification, follow-up, bookingâ€¦"></textarea>

        <!-- hidden field for tracking which plan they came from -->
        <input type="hidden" id="selected-plan">

        <button id="consult-btn" class="btn" type="button">Book Consultation</button>
      </form>

      <div id="consult-confirm" class="msg" style="display:none;"></div>
    </div>
  </div>

  <!-- RIGHT PANEL -->
  <div class="right-panel">

    <!-- Only dark mode toggle -->
    <div class="top-row">
      <button id="theme-toggle" class="theme-toggle">ðŸŒ™ Dark Mode</button>
    </div>

    <!-- CHAT -->
    <div class="chat">
      <div class="assistant-msg delay-1">Are you looking to buy, sell, or invest?</div>
      <div class="assistant-msg delay-2">Whatâ€™s your budget and preferred area?</div>
      <div class="assistant-msg delay-3">Perfect â€” Iâ€™ll connect you with your agent.</div>
    </div>

    <!-- PRICING -->
    <section class="pricing-section" id="pricing">
      <div class="pricing-header">
        <h2>Simple plans for real estate teams.</h2>
        <p class="pricing-subtitle">Choose what fits your workflow.</p>
      </div>

      <div class="pricing-grid">

        <!-- Starter -->
        <div class="pricing-card">
          <div class="pricing-plan-name">Starter</div>
          <div class="pricing-title">Solo Agent</div>
          <div class="pricing-price">$297<span>/month</span></div>
          <p class="pricing-description">Instant replies + basic automation.</p>

          <a class="pricing-btn outline" href="starter.html">Learn More</a>

          <ul class="pricing-list">
            <li><span class="pricing-check">âœ“</span>Instant replies</li>
            <li><span class="pricing-check">âœ“</span>Basic qualification</li>
            <li><span class="pricing-check">âœ“</span>Booking automation</li>
            <li><span class="pricing-check">âœ“</span>30-day nurture</li>
          </ul>
        </div>

        <!-- Pro -->
        <div class="pricing-card">
          <div class="pricing-plan-name">Pro Team</div>
          <div class="pricing-title">Teams</div>
          <div class="pricing-price">Contact<span>for more information</span></div>
          <p class="pricing-description">Stronger follow-up for growing teams.</p>

          <a class="pricing-btn outline" href="pro.html">Contact Pro</a>

          <ul class="pricing-list">
            <li><span class="pricing-check">âœ“</span>Everything in Starter</li>
            <li><span class="pricing-check">âœ“</span>90-day nurture</li>
            <li><span class="pricing-check">âœ“</span>Lead revival</li>
            <li><span class="pricing-check">âœ“</span>Buyer & seller flows</li>
          </ul>
        </div>

        <!-- Growth (FEATURED) -->
        <div class="pricing-card featured">
          <div class="pricing-plan-name">Growth</div>
          <div class="pricing-title">Teams & Brokerages</div>
          <div class="pricing-price">Contact<span>for more information</span></div>
          <p class="pricing-description">Advanced routing + team reporting.</p>

          <a class="pricing-btn primary" href="growth.html">Contact Growth</a>

          <ul class="pricing-list">
            <li><span class="pricing-check">âœ“</span>Everything in Pro</li>
            <li><span class="pricing-check">âœ“</span>Lead routing</li>
            <li><span class="pricing-check">âœ“</span>Team dashboard</li>
            <li><span class="pricing-check">âœ“</span>Onboarding support</li>
          </ul>
        </div>

      </div>
    </section>
  </div>
</div>

<!-- FLOATING HELP WIDGET -->
<div id="help-launcher" class="help-launcher">
  <div class="help-launcher-icon">?</div>
  <span>Help</span>
  <span class="help-launcher-arrow">â€º</span>
</div>

<div id="help-panel" class="help-panel">
  <div class="help-panel-title">Need help?</div>
  <p>Have a question or want to talk through a setup? Open the help page.</p>
  <a href="contact.html" class="help-panel-button">Help</a>
</div>

<script>
  // Dark mode toggle
  const toggle = document.getElementById("theme-toggle");
  toggle.addEventListener("click", () => {
    document.body.classList.toggle("dark-mode");
    toggle.textContent =
      document.body.classList.contains("dark-mode")
        ? "â˜€ï¸ Light Mode"
        : "ðŸŒ™ Dark Mode";
  });

  // Helper: read ?plan= from URL
  function getQueryParam(name) {
    const params = new URLSearchParams(window.location.search);
    return params.get(name);
  }

  // Initialize EmailJS
  emailjs.init("1RUFavRH4cgcsJDaJ");

  const btn = document.getElementById("consult-btn");
  const form = document.getElementById("consult-form");
  const confirmDiv = document.getElementById("consult-confirm");
  const planChip = document.getElementById("plan-chip");
  const planChipLabel = document.getElementById("plan-chip-label");
  const selectedPlanInput = document.getElementById("selected-plan");

  // On load: check if a plan was passed (for tracking)
  document.addEventListener("DOMContentLoaded", () => {
    const planFromUrl = getQueryParam("plan");
    if (planFromUrl) {
      const decoded = decodeURIComponent(planFromUrl).replace(/\+/g, " ");
      planChipLabel.textContent = decoded;
      planChip.style.display = "inline-flex";
      selectedPlanInput.value = decoded;
    }
  });

  btn.addEventListener("click", function () {
    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();
    const tasks = document.getElementById("tasks").value.trim();
    const selectedPlan = selectedPlanInput.value || "Not specified";

    if (!name || !email || !tasks) {
      confirmDiv.textContent = "Please fill out all fields.";
      confirmDiv.style.display = "block";
      confirmDiv.className = "msg error";
      return;
    }

    btn.disabled = true;
    btn.textContent = "Sending...";

    emailjs
      .send("service_6oeyi4x", "template_32i8gwc", {
        user_name: name,
        user_email: email,
        user_tasks: tasks,
        selected_plan: selectedPlan,
        request_source: "Main consult form"
      })
      .then(() => {
        form.style.display = "none";
        confirmDiv.textContent = "Thanks! Weâ€™ll reach out shortly.";
        confirmDiv.className = "msg success";
        confirmDiv.style.display = "block";
      })
      .catch(() => {
        btn.disabled = false;
        btn.textContent = "Book Consultation";
        confirmDiv.textContent = "Something went wrong. Try again.";
        confirmDiv.className = "msg error";
        confirmDiv.style.display = "block";
      });
  });

  // HELP WIDGET LOGIC
  const helpLauncher = document.getElementById("help-launcher");
  const helpPanel = document.getElementById("help-panel");

  helpLauncher.addEventListener("click", () => {
    const isOpen = helpPanel.style.display === "block";
    helpPanel.style.display = isOpen ? "none" : "block";
  });

  // Close help panel when clicking outside
  document.addEventListener("click", (e) => {
    if (
      !helpPanel.contains(e.target) &&
      !helpLauncher.contains(e.target)
    ) {
      helpPanel.style.display = "none";
    }
  });
</script>

</body>
</html>
